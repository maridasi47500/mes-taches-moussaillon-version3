<%= form_with(model: citymayor, local: true) do |form| %>
  <% if citymayor.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(citymayor.errors.count, "error") %> prohibited this citymayor from being saved:</h2>

      <ul>
        <% citymayor.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div class="field">
<%=render "form/radiobutton", form: form, fieldname: "person_id", collec: Person.findbyid(citymayor.person_id), mesmodele:"people"%>
</div>
  <div class="field">
<%=render "form/checkbox", form: form, fieldname: "city_id", collec: Person.findbyid(citymayor.city_id), mesmodele:"city"%>
</div>
  <div class="field">
<%=form.text_area :mot%>
</div>
<%=form.hidden_field :user_id%>


  <div class="actions">
    <%= form.submit %>
  </div>
<% end %>
<%=content_for :myjscode do%>
<script>

<%@search=[personjson_albums_path,json_cities_path]%>
<%@select=[people_citymayors_path,city_citymayors_path]%>

<%@nom=['people','city']%>
<%=render partial:"form/functionjson", collection: @nom.zip(@search, @select), as: :t%>
</script>
<%end%>
