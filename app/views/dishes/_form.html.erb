<%= form_with(model: dish,data:{id: dish.id},html: {id:'formdish',onsubmit: "mydish(this);return false;"}, local: true) do |form| %>
    <%= hidden_field_tag :ajax, value: "true"%>
  <% if dish.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(dish.errors.count, "error") %> prohibited this dish from being saved:</h2>

      <ul>
        <% dish.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

<% Dish.locale_columns(:name).each do |column| %>
  <p>
    <%= form.label column %>
    <%= form.text_field column %>
  </p>
<% end %>

  <div class="field">
    <%= form.label :image, "give a pic for this dish" %>
    <%= render "form/imagefield", form: form, myfield: "image", apercu: "apercu" %>
  </div>
  <p>
    <label for="productorigin"> Origin of Product: </label>
    <%= form.select :country_ids,
      options_for_select(Country.all.collect {|x| [x.name, x.id]},dish.country_ids),
      {:prompt => "Select Country"},
      {:multiple => true}
    %>
</p>

  <div class="actions">
    <%= form.submit %>
  </div>
<% end %>
